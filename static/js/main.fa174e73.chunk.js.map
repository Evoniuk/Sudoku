{"version":3,"sources":["components/Notes.js","components/Place.js","components/Row.js","components/Board.js","index.js","boardLogic/provideBoard.js","boardLogic/solveSudoku.js"],"names":["Notes","props","notes","Array","fill","map","_","num","has","i","key","style","display","gridTemplateColumns","gridTemplateRows","width","height","fontSize","justifyItems","alignItems","Place","colors","row","column","state","borderLeft","borders","borderRight","borderTop","borderBottom","setBorder","thisSquare","Math","trunc","clickedSquare","clickedRow","clickedColumn","background","activeColor","clickedPlace","setBackground","size","value","board","placedNum","originalBoard","wrongNum","solvedBoard","color","clickedNum","numbers","noteColor","setColor","onClick","e","handleClick","className","Row","places","Board","j","push","Set","entry","shiftPressed","bind","handleKeyDown","changePlace","makeEntry","handleKeyUp","handleBlur","this","setState","event","keyCode","preventDefault","prevState","delete","add","clear","rows","onKeyDown","onKeyUp","tabIndex","onBlur","mainBackground","React","Component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.fa174e73.chunk.js","sourcesContent":["import React from 'react';\n\nexport default function Notes(props) {\n  const notes = Array(9).fill()\n    .map((_, num) => props.notes.has(num + 1) ? num + 1 : 0)\n    .map((num, i) => <div key={i}>{num ? num : ''}</div>);\n\n  const style = {\n    display: 'grid',\n    gridTemplateColumns: '1fr 1fr 1fr',\n    gridTemplateRows: '1fr 1fr 1fr',\n    width: '100%',\n    height: '100%',\n    fontSize:'9px',\n    justifyItems: 'center',\n    alignItems: 'center',\n  }\n\n  return <div style={style}>{notes}</div>\n}\n","import React from 'react';\nimport Notes from './Notes';\n\nexport default function Place(props) {\n  const {colors, row, column, state} = props;\n\n  const style = {};\n  setBorder(style, colors, row, column);\n  setBackground(style, colors, row, column, state);\n  setColor(style, colors, row, column, state);\n\n  const value = state.board[row][column];\n  const notes = state.notes[row][column];\n  return (\n    <div\n      onClick={e => props.handleClick(e,\n        value, row, column)}\n      style={style}\n      className='place'\n    >\n      {notes.size ? <Notes notes={notes}/>:\n      value ? value : ''}\n    </div>\n  )\n}\n\nfunction setBorder(style, colors, row, column) {\n  style.borderLeft = '1px solid ' + colors.borders;\n  style.borderRight = column === 8 ? '3px solid ' + colors.borders : null;\n  style.borderTop = '1px solid ' + colors.borders;\n  style.borderBottom = row === 8 ? '3px solid ' + colors.borders : null;\n\n  if (row % 3 === 0) style.borderTop = '3px solid ' + colors.borders;\n  if (column % 3 === 0) style.borderLeft = '3px solid ' + colors.borders;\n}\n\nfunction setBackground(style, colors, row, column, state) {\n  const thisSquare = 3 * Math.trunc(row / 3)\n    + Math.trunc(column / 3);\n  const clickedSquare = state.clickedRow === -1 ? -1 :\n    3 * Math.trunc(state.clickedRow / 3)\n    + Math.trunc(state.clickedColumn / 3);\n\n  if (row === state.clickedRow\n    || column === state.clickedColumn\n    || thisSquare === clickedSquare)\n    style.background = colors.activeColor;\n\n  if (column === state.clickedColumn\n    && row === state.clickedRow)\n    style.background = colors.clickedPlace;\n}\n\nfunction setColor(style, colors, row, column, state) {\n  if (state.notes[row][column].size === 0) {\n    const value = state.board[row][column]\n    const placedNum = state.originalBoard[row][column] === 0;\n    const wrongNum = value !== state.solvedBoard[row][column];\n\n    style.color = wrongNum ? colors.wrongNum:\n      state.clickedNum === value ? colors.clickedNum:\n      placedNum ? colors.placedNum:\n      colors.numbers;\n  } else style.color = colors.noteColor;\n}\n","import React from 'react';\nimport Place from './Place';\n\nexport default function Row(props) {\n  const places = Array(9).fill().map((_, column) => <Place\n    state={props.state}\n    row={props.row}\n    column={column}\n    colors={props.colors}\n    handleClick={props.handleClick}\n    key={column} // just to stop react complaining\n  />);\n\n  return <div style={{display: 'flex'}}>{places}</div>\n}\n","import React from 'react';\nimport Row from './Row';\n\nexport default class Board extends React.Component {\n  constructor(props) {\n    super();\n\n    const notes = [];\n    for (let i = 0; i < 9; i++) {\n      const row = [];\n      for (let j = 0; j < 9; j++)\n        row.push(new Set());\n      notes.push(row);\n    }\n\n    this.state = {\n      originalBoard: props.board,\n      board: props.board.map(row => row.map(entry => entry)),\n      solvedBoard: props.solvedBoard,\n      notes: notes,\n      clickedNum: 0,\n      clickedRow: -1,\n      clickedColumn: -1,\n    }\n\n    this.colors = props.colors;\n    this.shiftPressed = false;\n\n    this.handleClick = this.handleClick.bind(this);\n    this.handleKeyDown = this.handleKeyDown.bind(this);\n    this.changePlace = this.changePlace.bind(this);\n    this.makeEntry = this.makeEntry.bind(this);\n    this.handleKeyUp = this.handleKeyUp.bind(this);\n    this.handleBlur = this.handleBlur.bind(this);\n  }\n\n  handleClick(_, value, row, column) {\n    this.setState({\n      clickedNum: value,\n      clickedRow: row,\n      clickedColumn: column,\n    })\n  }\n\n  handleKeyDown(event) {\n    if (this.state.clickedRow === -1) return;\n\n    const keyCode = event.keyCode;\n    const row = this.state.clickedRow;\n    const column = this.state.clickedColumn;\n\n    if (keyCode === 16) this.shiftPressed = true;\n    else if (keyCode >= 37 && keyCode <= 40) {\n      event.preventDefault();\n      this.changePlace(keyCode, row, column);\n    } else if (this.state.originalBoard[row][column]) return;\n    else if ((keyCode >= 48 && keyCode <= 57) || keyCode === 8)\n      this.makeEntry(keyCode, row, column);\n  }\n\n  changePlace(keyCode, row, column) {\n    this.setState(prevState => {\n      keyCode === 37 ? column--:\n      keyCode === 38 ? row--:\n      keyCode === 39 ? column++:\n      row++;\n\n      if (row > 8) row = 0;\n      else if (row < 0) row = 8;\n      if (column > 8) column = 0;\n      else if (column < 0) column = 8;\n\n      return {\n        clickedNum: prevState.board[row][column],\n        clickedRow: row,\n        clickedColumn: column,\n      };\n    })\n  }\n\n  makeEntry(keyCode, row, column) {\n    this.setState(prevState => {\n      if (this.shiftPressed) {\n        prevState.board[row][column] = 0;\n        keyCode > 8 && prevState.notes[row][column].has(keyCode - 48) ?\n          prevState.notes[row][column].delete(keyCode - 48):\n          prevState.notes[row][column].add(keyCode - 48);\n      } else {\n        prevState.board[row][column] =\n          keyCode > 48 ? keyCode - 48 : 0;\n        prevState.notes[row][column].clear();\n      }\n\n      return {\n        board: prevState.board,\n        notes: prevState.notes,\n        clickedNum: prevState.board[row][column],\n      };\n    })\n  }\n\n  handleKeyUp(event) {\n    if (event.keyCode === 16)\n      this.shiftPressed = false;\n  }\n\n  handleBlur() {\n    this.setState({\n      clickedNum: 0,\n      clickedRow: -1,\n      clickedColumn: -1,\n    })\n  }\n\n  render() {\n    const rows = Array(9).fill().map((_, row) => <Row\n      state={this.state}\n      row={row}\n      colors={this.colors}\n      handleClick={this.handleClick}\n      key={row} // just to stop react complaining\n    />)\n\n    return (\n      <main\n        onKeyDown={this.handleKeyDown}\n        onKeyUp={this.handleKeyUp}\n        tabIndex='0' // allows key events to register\n        onBlur={this.handleBlur}\n        style={{background: this.colors.mainBackground}}\n      >\n        <div className='board'>{rows}</div>\n      </main>\n    )\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Board from './components/Board';\nimport solveSudoku from './boardLogic/solveSudoku';\nimport provideBoard from './boardLogic/provideBoard';\nimport './index.css';\n\nconst board = provideBoard();\nconst solvedBoard = solveSudoku(board);\n\nconst colors = {\n  mainBackground: 'rgb(37, 43, 57)',\n  activeColor: 'rgba(32, 100, 109, .4)',\n  numbers: 'white',\n  placedNum: 'lightskyblue',\n  clickedNum: 'gold',\n  wrongNum: 'salmon',\n  borders: 'powderblue',\n  clickedPlace: 'rgba(32, 178, 170, .4)',\n  noteColor: 'lightgrey',\n}\n\nReactDOM.render(<Board\n  board={board}\n  solvedBoard={solvedBoard}\n  colors={colors}\n/>, document.getElementById('root'));\n","// TODO: have this function provide a random board each call\nexport default function provideBoard() {\n  return [\n    [8,7,3,4,1,0,9,0,0],\n    [0,6,5,0,2,8,0,7,0],\n    [0,2,0,7,0,3,0,0,0],\n    [5,4,0,0,0,0,2,1,0],\n    [2,0,8,0,0,7,4,9,0],\n    [6,9,0,0,8,0,0,0,0],\n    [4,8,0,0,0,0,5,0,0],\n    [7,0,0,0,3,1,6,0,9],\n    [0,1,0,0,0,9,8,0,7],\n  ];\n}\n\n// export default function provideBoard() {\n//   const result = [[],[],[],[],[],[],[],[],[]];\n//   for (let i = 0; i < 3; i++) // fill in squares on main diagonal\n//     fillSquare(result, i*4, randomize1to9());\n\n//   return result;\n// }\n\n// function fillSquare(board, square, arr) {\n//   const row = i => 3 * Math.floor(square / 3) + Math.floor(i / 3);\n//   const col = i => 3 * (square % 3) + i % 3;\n//   arr.forEach((num, i) => board[row(i)][col(i)] = num);\n// }\n\n// function randomize1to9() {\n//   const result = [];\n//   while (result.length < 9) {\n//     const numToAdd = Math.floor(Math.random() * 9) + 1;\n//     if (!result.includes(numToAdd)) result.push(numToAdd);\n//   }\n//   return result;\n// }\n","// TODO: have this function actually solve a board given to it\nexport default function solveSudoku(board) {\n  return [\n    [8,7,3,4,1,5,9,6,2],\n    [1,6,5,9,2,8,3,7,4],\n    [9,2,4,7,6,3,1,8,5],\n    [5,4,7,3,9,6,2,1,8],\n    [2,3,8,1,5,7,4,9,6],\n    [6,9,1,2,8,4,7,5,3],\n    [4,8,9,6,7,2,5,3,1],\n    [7,5,2,8,3,1,6,4,9],\n    [3,1,6,5,4,9,8,2,7],\n  ];\n}\n"],"sourceRoot":""}